<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Flock standalone example</title>

		 <style>
			 body {
				 font-family: "Atkinson Hyperlegible Next", "Asap", Helvetica, Arial, Lucida, sans-serif !important;
			   }
			 </style>
	</head>
	<body>
		<canvas id="renderCanvas" touch-action="none"  style="width: 640px; height: 360px;" tabindex="0"></canvas>
	</div>
		
		<script id="flock" type="application/flock">
			// Made with Flock XR
			let player = 'player'; let box1 = 'box1'; let camera = 'camera';



			(async () => {
			  setSky("#ffffff");
			  createMap("NONE", createMaterial({ color: "#ffffff", materialName: "none.png", alpha: 1 }));
			})();

			(async () => {
			  printText({ text: "ðŸŒˆ Hello", duration: 30, color: "#000080" });
			  buttonControls("ARROWS", "AUTO", "#cc33cc");
			  camera = getCamera();
			})();

			(async () => {
			  for (let count = 0; count < 100; count++) {
				box1 = createBox("box1__=@2jbH*.[K/:Y@6m1_fK", { color: randomColour(), width: (randomInteger(1, 5)), height: (randomInteger(1, 5)), depth: (randomInteger(1, 5)), position: [(randomInteger(-20, 20)), (randomInteger(0, 10)), (randomInteger(-20, 20))] });
			  await wait(0);
			  }
			  await setAlpha(box1, { value: 0.75 });
			})();

			(async () => {
			  player = createCharacter({
								modelName: 'Liz6.glb',
								modelId: 'player__{P^*3SH2g,CqI`9/9cQC',
								scale: 1,
								position: { x: 0, y: 0, z: 0 },
								colors: {
									  hair: "#ffff00",
									  skin: "#fcdace",
									  eyes: "#009900",
									  sleeves: "#33ffff",
									  shorts: "#99ffff",
									  tshirt: "#66ffff"
								}
							  });
			  await setPhysics(player, "DYNAMIC");
			  await attachCamera(player, { radius: 7, front: false });
			})();

			forever(async function(){
			  if (actionPressed("FORWARD")) {
				moveForward(player, 3);
				switchAnimation(player, { animationName: "Walk" });
			  } else if (actionPressed("BACKWARD")) {
				moveForward(player, (-3));
				switchAnimation(player, { animationName: "Walk" });
			  } else if (actionPressed("LEFT")) {
				await rotate(camera, { x: 0, y: 1, z: 0 });
			  } else if (actionPressed("RIGHT")) {
				await rotate(camera, { x: 0, y: (-1), z: 0 });
			  } else {
				switchAnimation(player, { animationName: "Idle" });
			  }
			});
		</script>

		<script type="module">
			//import "https://flipcomputing.github.io/flock/flock.js";
			import "https://1099a351-df60-40b5-bf61-4999bad0d153-00-4np7mg24c4rr.janeway.replit.dev/flock.js";
		</script>
	</body>
</html>
